
  CREATE OR REPLACE EDITIONABLE TRIGGER "ARTERH"."TR_RHPLCS_CARGO_AUDIT" 
AFTER UPDATE OR DELETE OR INSERT ON "ARTERH"."RHPLCS_CARGO" 
FOR EACH ROW
 DECLARE
v_DML RHPBH_RHPLCS_CARGO_AUDIT.TIPO_DML%TYPE;
BEGIN
IF INSERTING THEN
v_DML := 'I';
INSERT INTO RHPBH_RHPLCS_CARGO_AUDIT
(
TIPO_DML,
ABALT_CARGO,
ABREVIACAO,
ASSINATURA_01,
ASSINATURA_02,
ATIVIDADE_FIM,
CARGA_HORARIA_MAX,
CARGA_HORARIA_MIN,
CARGA_HORARIA_NORM,
CBO,
CBO2002,
C_LIVRE_DESCR07,
C_LIVRE_DESCR08,
C_LIVRE_OPCAO10,
C_LIVRE_OPCAO11,
C_LIVRE_OPCAO9,
C_LIVRE_SELEC01,
C_LIVRE_SELEC02,
C_LIVRE_SELEC03,
C_LIVRE_VALOR04,
C_LIVRE_VALOR05,
C_LIVRE_VALOR06,
COD_CNAE_FISCAL,
CODIGO,
CODIGO_ASSINA_AUTO,
CODIGO_CLASSIFICA,
CODIGO_EMPRESA,
CODIGO_ESCALA,
CODIGO_PLANO_CARGO,
COD_PARM_SELE_PER,
CONTAGEM_ESPECIAL,
DATA_EXTINC_CARGO,
DATA_IMPLAN_CARGO,
DEALT_CARGO,
DEDICACAO_EXCLUSIVA,
DESCRICAO,
DESCRICAO_SUMARIA,
DT_ULT_ALTER_USUA,
EXIGE_REGISTRO,
EXPERIENCIA,
FIM_FAIXA_ETARIA,
FORMA_PROVIMENTO,
GRAU_INSTRUCAO,
GRUPO,
INIC_FAIXA_ETARIA,
JORN_EXCEDE_PT,
LOGIN_USUARIO,
MOTIVO_EXTINCAO,
NIV_CARGO_ESTRUT,
NIVEL_INF_AUX,
NIVEL_INFERIOR,
NIVEL_PADRAO,
NIVEL_SUP_AUX,
NIVEL_SUPERIOR,
PERMITE_ACUMULO,
POLITICA_ACESSO,
REQUISITOS,
SINDICATO,
SUBORDINACAO,
SUBORDINADOS,
TAB_ASSOC_AGRUP,
TABELA_UTIL_AUX,
TABELA_UTILIZADA,
TAREFAS_OCASIONAIS,
TAREFAS_PERIODICAS,
TEXTO_ASSOCIADO,
TEXTO_LIVRE1,
TP_ACUMULO_CARGO,
USA_CONV_NIVEL

)
VALUES
(
v_DML,
:NEW.ABALT_CARGO,
:NEW.ABREVIACAO,
:NEW.ASSINATURA_01,
:NEW.ASSINATURA_02,
:NEW.ATIVIDADE_FIM,
:NEW.CARGA_HORARIA_MAX,
:NEW.CARGA_HORARIA_MIN,
:NEW.CARGA_HORARIA_NORM,
:NEW.CBO,
:NEW.CBO2002,
:NEW.C_LIVRE_DESCR07,
:NEW.C_LIVRE_DESCR08,
:NEW.C_LIVRE_OPCAO10,
:NEW.C_LIVRE_OPCAO11,
:NEW.C_LIVRE_OPCAO9,
:NEW.C_LIVRE_SELEC01,
:NEW.C_LIVRE_SELEC02,
:NEW.C_LIVRE_SELEC03,
:NEW.C_LIVRE_VALOR04,
:NEW.C_LIVRE_VALOR05,
:NEW.C_LIVRE_VALOR06,
:NEW.COD_CNAE_FISCAL,
:NEW.CODIGO,
:NEW.CODIGO_ASSINA_AUTO,
:NEW.CODIGO_CLASSIFICA,
:NEW.CODIGO_EMPRESA,
:NEW.CODIGO_ESCALA,
:NEW.CODIGO_PLANO_CARGO,
:NEW.COD_PARM_SELE_PER,
:NEW.CONTAGEM_ESPECIAL,
:NEW.DATA_EXTINC_CARGO,
:NEW.DATA_IMPLAN_CARGO,
:NEW.DEALT_CARGO,
:NEW.DEDICACAO_EXCLUSIVA,
:NEW.DESCRICAO,
:NEW.DESCRICAO_SUMARIA,
SYSDATE,
:NEW.EXIGE_REGISTRO,
:NEW.EXPERIENCIA,
:NEW.FIM_FAIXA_ETARIA,
:NEW.FORMA_PROVIMENTO,
:NEW.GRAU_INSTRUCAO,
:NEW.GRUPO,
:NEW.INIC_FAIXA_ETARIA,
:NEW.JORN_EXCEDE_PT,
USER,
:NEW.MOTIVO_EXTINCAO,
:NEW.NIV_CARGO_ESTRUT,
:NEW.NIVEL_INF_AUX,
:NEW.NIVEL_INFERIOR,
:NEW.NIVEL_PADRAO,
:NEW.NIVEL_SUP_AUX,
:NEW.NIVEL_SUPERIOR,
:NEW.PERMITE_ACUMULO,
:NEW.POLITICA_ACESSO,
:NEW.REQUISITOS,
:NEW.SINDICATO,
:NEW.SUBORDINACAO,
:NEW.SUBORDINADOS,
:NEW.TAB_ASSOC_AGRUP,
:NEW.TABELA_UTIL_AUX,
:NEW.TABELA_UTILIZADA,
:NEW.TAREFAS_OCASIONAIS,
:NEW.TAREFAS_PERIODICAS,
:NEW.TEXTO_ASSOCIADO,
:NEW.TEXTO_LIVRE1,
:NEW.TP_ACUMULO_CARGO,
:NEW.USA_CONV_NIVEL
);
END IF;

IF DELETING THEN
v_DML := 'D';
INSERT INTO RHPBH_RHPLCS_CARGO_AUDIT
(
TIPO_DML,
ABALT_CARGO,
ABREVIACAO,
ASSINATURA_01,
ASSINATURA_02,
ATIVIDADE_FIM,
CARGA_HORARIA_MAX,
CARGA_HORARIA_MIN,
CARGA_HORARIA_NORM,
CBO,
CBO2002,
C_LIVRE_DESCR07,
C_LIVRE_DESCR08,
C_LIVRE_OPCAO10,
C_LIVRE_OPCAO11,
C_LIVRE_OPCAO9,
C_LIVRE_SELEC01,
C_LIVRE_SELEC02,
C_LIVRE_SELEC03,
C_LIVRE_VALOR04,
C_LIVRE_VALOR05,
C_LIVRE_VALOR06,
COD_CNAE_FISCAL,
CODIGO,
CODIGO_ASSINA_AUTO,
CODIGO_CLASSIFICA,
CODIGO_EMPRESA,
CODIGO_ESCALA,
CODIGO_PLANO_CARGO,
COD_PARM_SELE_PER,
CONTAGEM_ESPECIAL,
DATA_EXTINC_CARGO,
DATA_IMPLAN_CARGO,
DEALT_CARGO,
DEDICACAO_EXCLUSIVA,
DESCRICAO,
DESCRICAO_SUMARIA,
DT_ULT_ALTER_USUA,
EXIGE_REGISTRO,
EXPERIENCIA,
FIM_FAIXA_ETARIA,
FORMA_PROVIMENTO,
GRAU_INSTRUCAO,
GRUPO,
INIC_FAIXA_ETARIA,
JORN_EXCEDE_PT,
LOGIN_USUARIO,
MOTIVO_EXTINCAO,
NIV_CARGO_ESTRUT,
NIVEL_INF_AUX,
NIVEL_INFERIOR,
NIVEL_PADRAO,
NIVEL_SUP_AUX,
NIVEL_SUPERIOR,
PERMITE_ACUMULO,
POLITICA_ACESSO,
REQUISITOS,
SINDICATO,
SUBORDINACAO,
SUBORDINADOS,
TAB_ASSOC_AGRUP,
TABELA_UTIL_AUX,
TABELA_UTILIZADA,
TAREFAS_OCASIONAIS,
TAREFAS_PERIODICAS,
TEXTO_ASSOCIADO,
TEXTO_LIVRE1,
TP_ACUMULO_CARGO,
USA_CONV_NIVEL

)
VALUES
(
v_DML,
:OLD.ABALT_CARGO,
:OLD.ABREVIACAO,
:OLD.ASSINATURA_01,
:OLD.ASSINATURA_02,
:OLD.ATIVIDADE_FIM,
:OLD.CARGA_HORARIA_MAX,
:OLD.CARGA_HORARIA_MIN,
:OLD.CARGA_HORARIA_NORM,
:OLD.CBO,
:OLD.CBO2002,
:OLD.C_LIVRE_DESCR07,
:OLD.C_LIVRE_DESCR08,
:OLD.C_LIVRE_OPCAO10,
:OLD.C_LIVRE_OPCAO11,
:OLD.C_LIVRE_OPCAO9,
:OLD.C_LIVRE_SELEC01,
:OLD.C_LIVRE_SELEC02,
:OLD.C_LIVRE_SELEC03,
:OLD.C_LIVRE_VALOR04,
:OLD.C_LIVRE_VALOR05,
:OLD.C_LIVRE_VALOR06,
:OLD.COD_CNAE_FISCAL,
:OLD.CODIGO,
:OLD.CODIGO_ASSINA_AUTO,
:OLD.CODIGO_CLASSIFICA,
:OLD.CODIGO_EMPRESA,
:OLD.CODIGO_ESCALA,
:OLD.CODIGO_PLANO_CARGO,
:OLD.COD_PARM_SELE_PER,
:OLD.CONTAGEM_ESPECIAL,
:OLD.DATA_EXTINC_CARGO,
:OLD.DATA_IMPLAN_CARGO,
:OLD.DEALT_CARGO,
:OLD.DEDICACAO_EXCLUSIVA,
:OLD.DESCRICAO,
:OLD.DESCRICAO_SUMARIA,
SYSDATE,
:OLD.EXIGE_REGISTRO,
:OLD.EXPERIENCIA,
:OLD.FIM_FAIXA_ETARIA,
:OLD.FORMA_PROVIMENTO,
:OLD.GRAU_INSTRUCAO,
:OLD.GRUPO,
:OLD.INIC_FAIXA_ETARIA,
:OLD.JORN_EXCEDE_PT,
USER,
:OLD.MOTIVO_EXTINCAO,
:OLD.NIV_CARGO_ESTRUT,
:OLD.NIVEL_INF_AUX,
:OLD.NIVEL_INFERIOR,
:OLD.NIVEL_PADRAO,
:OLD.NIVEL_SUP_AUX,
:OLD.NIVEL_SUPERIOR,
:OLD.PERMITE_ACUMULO,
:OLD.POLITICA_ACESSO,
:OLD.REQUISITOS,
:OLD.SINDICATO,
:OLD.SUBORDINACAO,
:OLD.SUBORDINADOS,
:OLD.TAB_ASSOC_AGRUP,
:OLD.TABELA_UTIL_AUX,
:OLD.TABELA_UTILIZADA,
:OLD.TAREFAS_OCASIONAIS,
:OLD.TAREFAS_PERIODICAS,
:OLD.TEXTO_ASSOCIADO,
:OLD.TEXTO_LIVRE1,
:OLD.TP_ACUMULO_CARGO,
:OLD.USA_CONV_NIVEL
);
END IF;

IF UPDATING THEN
v_DML := 'U';
INSERT INTO RHPBH_RHPLCS_CARGO_AUDIT
(
TIPO_DML,
ABALT_CARGO,
ABREVIACAO,
ASSINATURA_01,
ASSINATURA_02,
ATIVIDADE_FIM,
CARGA_HORARIA_MAX,
CARGA_HORARIA_MIN,
CARGA_HORARIA_NORM,
CBO,
CBO2002,
C_LIVRE_DESCR07,
C_LIVRE_DESCR08,
C_LIVRE_OPCAO10,
C_LIVRE_OPCAO11,
C_LIVRE_OPCAO9,
C_LIVRE_SELEC01,
C_LIVRE_SELEC02,
C_LIVRE_SELEC03,
C_LIVRE_VALOR04,
C_LIVRE_VALOR05,
C_LIVRE_VALOR06,
COD_CNAE_FISCAL,
CODIGO,
CODIGO_ASSINA_AUTO,
CODIGO_CLASSIFICA,
CODIGO_EMPRESA,
CODIGO_ESCALA,
CODIGO_PLANO_CARGO,
COD_PARM_SELE_PER,
CONTAGEM_ESPECIAL,
DATA_EXTINC_CARGO,
DATA_IMPLAN_CARGO,
DEALT_CARGO,
DEDICACAO_EXCLUSIVA,
DESCRICAO,
DESCRICAO_SUMARIA,
DT_ULT_ALTER_USUA,
EXIGE_REGISTRO,
EXPERIENCIA,
FIM_FAIXA_ETARIA,
FORMA_PROVIMENTO,
GRAU_INSTRUCAO,
GRUPO,
INIC_FAIXA_ETARIA,
JORN_EXCEDE_PT,
LOGIN_USUARIO,
MOTIVO_EXTINCAO,
NIV_CARGO_ESTRUT,
NIVEL_INF_AUX,
NIVEL_INFERIOR,
NIVEL_PADRAO,
NIVEL_SUP_AUX,
NIVEL_SUPERIOR,
PERMITE_ACUMULO,
POLITICA_ACESSO,
REQUISITOS,
SINDICATO,
SUBORDINACAO,
SUBORDINADOS,
TAB_ASSOC_AGRUP,
TABELA_UTIL_AUX,
TABELA_UTILIZADA,
TAREFAS_OCASIONAIS,
TAREFAS_PERIODICAS,
TEXTO_ASSOCIADO,
TEXTO_LIVRE1,
TP_ACUMULO_CARGO,
USA_CONV_NIVEL

)
VALUES
(
v_DML,
:OLD.ABALT_CARGO,
:OLD.ABREVIACAO,
:OLD.ASSINATURA_01,
:OLD.ASSINATURA_02,
:OLD.ATIVIDADE_FIM,
:OLD.CARGA_HORARIA_MAX,
:OLD.CARGA_HORARIA_MIN,
:OLD.CARGA_HORARIA_NORM,
:OLD.CBO,
:OLD.CBO2002,
:OLD.C_LIVRE_DESCR07,
:OLD.C_LIVRE_DESCR08,
:OLD.C_LIVRE_OPCAO10,
:OLD.C_LIVRE_OPCAO11,
:OLD.C_LIVRE_OPCAO9,
:OLD.C_LIVRE_SELEC01,
:OLD.C_LIVRE_SELEC02,
:OLD.C_LIVRE_SELEC03,
:OLD.C_LIVRE_VALOR04,
:OLD.C_LIVRE_VALOR05,
:OLD.C_LIVRE_VALOR06,
:OLD.COD_CNAE_FISCAL,
:OLD.CODIGO,
:OLD.CODIGO_ASSINA_AUTO,
:OLD.CODIGO_CLASSIFICA,
:OLD.CODIGO_EMPRESA,
:OLD.CODIGO_ESCALA,
:OLD.CODIGO_PLANO_CARGO,
:OLD.COD_PARM_SELE_PER,
:OLD.CONTAGEM_ESPECIAL,
:OLD.DATA_EXTINC_CARGO,
:OLD.DATA_IMPLAN_CARGO,
:OLD.DEALT_CARGO,
:OLD.DEDICACAO_EXCLUSIVA,
:OLD.DESCRICAO,
:OLD.DESCRICAO_SUMARIA,
:NEW.DT_ULT_ALTER_USUA,
:OLD.EXIGE_REGISTRO,
:OLD.EXPERIENCIA,
:OLD.FIM_FAIXA_ETARIA,
:OLD.FORMA_PROVIMENTO,
:OLD.GRAU_INSTRUCAO,
:OLD.GRUPO,
:OLD.INIC_FAIXA_ETARIA,
:OLD.JORN_EXCEDE_PT,
:NEW.LOGIN_USUARIO,
:OLD.MOTIVO_EXTINCAO,
:OLD.NIV_CARGO_ESTRUT,
:OLD.NIVEL_INF_AUX,
:OLD.NIVEL_INFERIOR,
:OLD.NIVEL_PADRAO,
:OLD.NIVEL_SUP_AUX,
:OLD.NIVEL_SUPERIOR,
:OLD.PERMITE_ACUMULO,
:OLD.POLITICA_ACESSO,
:OLD.REQUISITOS,
:OLD.SINDICATO,
:OLD.SUBORDINACAO,
:OLD.SUBORDINADOS,
:OLD.TAB_ASSOC_AGRUP,
:OLD.TABELA_UTIL_AUX,
:OLD.TABELA_UTILIZADA,
:OLD.TAREFAS_OCASIONAIS,
:OLD.TAREFAS_PERIODICAS,
:OLD.TEXTO_ASSOCIADO,
:OLD.TEXTO_LIVRE1,
:OLD.TP_ACUMULO_CARGO,
:OLD.USA_CONV_NIVEL
);

END IF;

END;




ALTER TRIGGER "ARTERH"."TR_RHPLCS_CARGO_AUDIT" ENABLE