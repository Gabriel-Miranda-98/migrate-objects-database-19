
  CREATE OR REPLACE EDITIONABLE FUNCTION "ARTERH"."CONTA_CARACTERES" ( P_TEXTO IN VARCHAR2 )
RETURN VARCHAR2 IS
QTD NUMBER:=NULL;
BEGIN
SELECT MAX(qtde) INTO QTD
FROM
(SELECT REGEXP_COUNT(P_TEXTO, '[[:punct:]]', 1) qtde FROM dual
UNION
SELECT REGEXP_COUNT(P_TEXTO, '[àâêôûãõáéíóúçüñÀÂÊÔÛÃÕÁÉÍÓÚÇÜÑ]', 1) qtde
FROM dual
);

RETURN QTD ;

END;