
  CREATE OR REPLACE FORCE EDITIONABLE VIEW "ARTERH"."VIEW_ARQUIVO_DUPLA_LOTACAO" ("ID_ARQUIVO", "CODIGO_EMPRESA_ARQUIVO", "SITUACAO_ARQUIVO", "DATA_CARGA", "NUMERO_LINHA", "SITUACAO_LINHA", "LINHA_ORIGINAL", "ACAO", "CODIGO_OPUS_PAI", "CODIGO_DUPLA_LOTACAO_DE", "DESCRICAO_DE", "ABREVICAO_DE", "CODIGO_DUPLA_LOTACAO_PARA", "DESCRICAO_PARA", "ABREVICAO_PARA") AS 
  select
RHPBH_ARQUIVO.ID_ARQUIVO,
RHPBH_ARQUIVO.CODIGO_EMPRESA AS CODIGO_EMPRESA_ARQUIVO,
RHPBH_ARQUIVO.SITUACAO AS SITUACAO_ARQUIVO,
RHPBH_ARQUIVO.DATA_CARGA,
RHPBH_ARQUIVO_LINHA.NUMERO_LINHA,
RHPBH_ARQUIVO_LINHA.SITUACAO AS SITUACAO_LINHA,
RHPBH_ARQUIVO_LINHA.LINHA AS LINHA_ORIGINAL,
regexp_substr(REPLACE(RHPBH_ARQUIVO_LINHA.LINHA,';;','; ;'), '[^;]+', 1, 1)	AS	ACAO,
regexp_substr(REPLACE(RHPBH_ARQUIVO_LINHA.LINHA,';;','; ;'), '[^;]+', 1, 2)	AS	CODIGO_OPUS_PAI,
regexp_substr(REPLACE(RHPBH_ARQUIVO_LINHA.LINHA,';;','; ;'), '[^;]+', 1, 3)	AS	CODIGO_DUPLA_LOTACAO_DE,
regexp_substr(REPLACE(RHPBH_ARQUIVO_LINHA.LINHA,';;','; ;'), '[^;]+', 1, 4)	AS	DESCRICAO_DE,
regexp_substr(REPLACE(RHPBH_ARQUIVO_LINHA.LINHA,';;','; ;'), '[^;]+', 1, 5)	AS	ABREVICAO_DE,
regexp_substr(REPLACE(RHPBH_ARQUIVO_LINHA.LINHA,';;','; ;'), '[^;]+', 1, 6)	AS	CODIGO_DUPLA_LOTACAO_PARA,
regexp_substr(REPLACE(RHPBH_ARQUIVO_LINHA.LINHA,';;','; ;'), '[^;]+', 1, 7)	AS	DESCRICAO_PARA,
regexp_substr(REPLACE(RHPBH_ARQUIVO_LINHA.LINHA,';;','; ;'), '[^;]+', 1, 8)	AS	ABREVICAO_PARA
  from RHPBH_ARQUIVO, RHPBH_ARQUIVO_LINHA
 where RHPBH_ARQUIVO.ID_ARQUIVO = RHPBH_ARQUIVO_LINHA.ID_ARQUIVO
   and RHPBH_ARQUIVO.TIPO_ARQUIVO = 'DPL1'